<!DOCTYPE html>
<html lang="ro">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aplicatie de desen in DOSBox-X ASM 2D - Documentatie</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="core.js"></script>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
</head>

<script>
  setTimeout(initializedContextMenu, 100);
</script>

<body>
  <div class="fullscreenImageBG"></div>

  <header class="terminal-header">
    <div class="window-controls" aria-hidden="true">
      <span class="dot red"></span><span class="dot yellow"></span><span class="dot green"></span>
    </div>
    <div class="lang">
      <a href="index_en.html">EN English</a>
    </div>
    <div class="header-body">
      <h1>Aplicatie DOSBox-X ASM 2D Draw</h1>
      <p>Intel 8086 (16-bit) | DOSBox-X | TASM</p>
    </div>
  </header>

  <main>

    <section id="overview">
      <h2>1. Descriere generala</h2>
      <p>
        Aplicatie de desen cu meniu text pentru DOS, scrisa in limbaj de asamblare x86 pe 16 biti. Ruleaza in modul text
        pentru input si comuta in modul grafic VGA 13h (320x200, 256 culori) pentru randare. Demonstreaza lucrul cu
        tastatura, afisajul si scrierea directa in memoria video A000h.
      </p>
      <ul>
        <li><strong>Microprocesor</strong>: Intel 8086 (real mode)</li>
        <li><strong>Periferice</strong>: tastatura (INT 21h/01h, INT 16h), display (INT 10h), memorie (A000h)</li>
        <li><strong>Mediu de executie</strong>: DOSBox-X</li>
      </ul>
    </section>

    <section id="peripherals">
      <h2>2. Periferice si servicii</h2>
      <ul>
        <li><strong>Tastatura</strong>: citire caracter (DOS INT 21h/01h), asteptare tasta (BIOS INT 16h/00h)</li>
        <li><strong>Display</strong>: mod text 80x25 si mod grafic 13h (320x200x256) prin BIOS INT 10h</li>
        <li><strong>Memorie</strong>: segment de date DS; memorie video ES=A000h pentru pixeli</li>
      </ul>
      <p><strong>Intreruperi utilizate</strong>:</p>
      <ul>
        <li>INT 10h - AH=00h (setare mod video), AH=02h (cursor), AH=06h (scroll/clear)</li>
        <li>INT 21h - AH=09h (afisare sir), AH=01h (citire caracter), AH=4Ch (iesire)</li>
        <li>INT 16h - AH=00h (asteptare tasta)</li>
      </ul>
    </section>

    <section id="block-diagram">
      <h2>3. Schema bloc</h2>
      <p>
        Structura modulara: MAIN (init) + MENU (UI) + SHAPES/PIXEL (desen) + FILE (salvare/incarcare) sustinute de IO
        (servicii DOS/BIOS), INP (input numeric), DATA (mesaje/constante).
      </p>
      <figure class="figure-bordered">
        <img
          src="https://raw.githubusercontent.com/DarkSoulEngineer/DOS-X_ASM/main/assets/images/diagrams/block_diagram_v2.png"
          alt="Schema bloc a sistemului" />
        <figcaption>Figura 1: Schema bloc a sistemului</figcaption>
      </figure>
    </section>

    <section id="operation">
      <h2>4. Flux de operare</h2>
      <ol>
        <li>Start: initializeaza DS, curata ecranul, afiseaza meniul principal.</li>
        <li>Navigare: utilizatorul alege optiunea (Line/Square/Back/Exit).</li>
        <li>Parametri: colectare input numeric in modul text.</li>
        <li>Mod grafic: comutare la 13h, desen in VRAM.</li>
        <li>Intoarcere: asteapta o tasta, revine la modul text.</li>
      </ol>
    </section>

    <section id="test-plan">
      <h2>5. Plan de testare</h2>
      <p>Scenarii recomandate pentru validare functionala:</p>
      <ol>
        <li><strong>Linie orizontala</strong>: y=50, x=10, latime=100, culoare=12 -> trasata pe randul 50.</li>
        <li><strong>Linie verticala</strong>: x=100, y=20, inaltime=80, culoare=10 -> trasata pe coloana 100.</li>
        <li><strong>Patrat plin</strong>: (x,y)=(40,40), marime=40, culoare=4 -> zona umpluta.</li>
        <li><strong>Patrat contur</strong>: (x,y)=(60,30), marime=50, culoare=14 -> doar muchiile.</li>
        <li><strong>Input invalid</strong>: caractere non-digit sau valori in afara intervalului -> re-prompt sau ignorare.</li>
        <li><strong>Tranzitii de mod</strong>: dupa desenare, apasare tasta -> revine la modul text, ecran curat.</li>
      </ol>
      <h3>Matrice de test (parametri vs rezultate asteptate)</h3>
      <table>
        <thead>
          <tr>
            <th>Caz</th>
            <th>Parametri</th>
            <th>Conditii</th>
            <th>Rezultat asteptat</th>
            <th>Limite</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Linie orizontala valida</td>
            <td>x=10, y=50, width=100, color=12</td>
            <td>0&lt;=x&lt;=219, 0&lt;=y&lt;=199</td>
            <td>Segment orizontal pe y=50, 100 pixeli</td>
            <td>Clipping daca x+width>319</td>
          </tr>
          <tr>
            <td>Linie verticala valida</td>
            <td>x=100, y=20, height=80, color=10</td>
            <td>0&lt;=y&lt;=119, 0&lt;=x&lt;=319</td>
            <td>Segment vertical pe x=100, 80 pixeli</td>
            <td>Clipping daca y+height>199</td>
          </tr>
          <tr>
            <td>Patrat plin valid</td>
            <td>x=40, y=40, size=40, color=4</td>
            <td>0&lt;=x&lt;=279, 0&lt;=y&lt;=159</td>
            <td>Zona umpluta size x size</td>
            <td>Clipping la margini</td>
          </tr>
          <tr>
            <td>Patrat contur valid</td>
            <td>x=60, y=30, size=50, color=14</td>
            <td>0&lt;=x&lt;=269, 0&lt;=y&lt;=149</td>
            <td>Doar muchiile trasate</td>
            <td>Clipping la margini</td>
          </tr>
          <tr>
            <td>Culoare invalida</td>
            <td>color=200</td>
            <td>n/a</td>
            <td>Re-prompt/mesaj de eroare</td>
            <td>Valori valide: 0-15</td>
          </tr>
          <tr>
            <td>Coordonate in afara ecranului</td>
            <td>x=400, y=300</td>
            <td>n/a</td>
            <td>Re-prompt/ajustare/clipping</td>
            <td>Ecran: 320x200</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section id="implementation">
      <h2>6. Detalii de implementare</h2>
      <ul>
        <li><strong>Mod 13h</strong>: 320x200, 256 culori; segment video ES=A000h.</li>
        <li><strong>Pixel</strong>: offset = y*320 + x; scriere octet de culoare.</li>
        <li><strong>Interfete</strong>: INT 10h (video), INT 21h (I/O), INT 16h (tastatura).</li>
        <li><strong>Module</strong>: vezi comentariile din fisierele ASM.</li>
      </ul>
    </section>

    <section id="build-run">
      <h2>7. Build & Run</h2>
      <p>Flux recomandat cu scripturile din <code>app/scripts</code>:</p>
      <pre><code>cd app\scripts
build.bat            REM build pentru MAIN.ASM (implicit)
build.bat MENU       REM build pentru un modul specific
clean.bat            REM sterge artefactele de build
</code></pre>
      <p>Ruleaza cu DOSBox-X din <code>app</code>:</p>
      <pre><code>dosbox-x -c "mount c ." -c "c:" -c "build\MAIN.exe"
</code></pre>
    </section>

    <section id="gallery">
      <h2>8. Galerie (capturi)</h2>
      <div class="gallery">
        <figure>
          <img
            src="https://raw.githubusercontent.com/DarkSoulEngineer/DOS-X_ASM/main/assets/images/captures/menu.png"
            alt="Meniu principal" />
          <figcaption>Meniu principal</figcaption>
        </figure>
        <figure>
          <img src="https://raw.githubusercontent.com/DarkSoulEngineer/DOS-X_ASM/main/assets/images/captures/about.png"
            alt="Despre echipa" />
          <figcaption>Despre echipa</figcaption>
        </figure>
        <figure>
          <img
            src="https://raw.githubusercontent.com/DarkSoulEngineer/DOS-X_ASM/main/assets/images/captures/draw_menu.png"
            alt="Submeniu desen" />
          <figcaption>Submeniu desen</figcaption>
        </figure>
        <figure>
          <img
            src="https://raw.githubusercontent.com/DarkSoulEngineer/DOS-X_ASM/main/assets/images/captures/line_menu.png"
            alt="Alegere linie" />
          <figcaption>Alegere linie</figcaption>
        </figure>
        <figure>
          <img
            src="https://raw.githubusercontent.com/DarkSoulEngineer/DOS-X_ASM/main/assets/images/captures/prompt_x.png"
            alt="Parametri linie: X" />
          <figcaption>Parametri linie: X</figcaption>
        </figure>
        <figure>
          <img
            src="https://raw.githubusercontent.com/DarkSoulEngineer/DOS-X_ASM/main/assets/images/captures/prompt_y.png"
            alt="Parametri linie: Y" />
          <figcaption>Parametri linie: Y</figcaption>
        </figure>
        <figure>
          <img
            src="https://raw.githubusercontent.com/DarkSoulEngineer/DOS-X_ASM/main/assets/images/captures/prompt_color.png"
            alt="Parametri linie: Culoare" />
          <figcaption>Parametri linie: Culoare</figcaption>
        </figure>
        <figure>
          <img
            src="https://raw.githubusercontent.com/DarkSoulEngineer/DOS-X_ASM/main/assets/images/captures/filled_square.png"
            alt="Patrat plin" />
          <figcaption>Patrat plin</figcaption>
        </figure>
        <figure>
          <img
            src="https://raw.githubusercontent.com/DarkSoulEngineer/DOS-X_ASM/main/assets/images/captures/hallowed_square.png"
            alt="Patrat gol" />
          <figcaption>Patrat gol</figcaption>
        </figure>
		<figure>
          <img
            src="https://raw.githubusercontent.com/DarkSoulEngineer/DOS-X_ASM/main/assets/images/captures/preview.png"
            alt="Preview" />
          <figcaption>Preview</figcaption>
        </figure>
      </div>
    </section>

  </main>

  <footer>
    <p>&copy; 2025 DOSBox-X ASM 2D Draw App</p>
  </footer>

  <div class="crt-overlay" aria-hidden="true"></div>
</body>

</html>
